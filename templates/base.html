{% load static %}
{% load content_filters %}
<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="dns-prefetch" href="https://cdn.tailwindcss.com">
    <title>{% block title %}Django App{% endblock %} - {{ site_config.site_name|default:"AutoInsurance.com" }}</title>
    <link rel="icon" type="image/webp" href="{% static 'images/logos/Autoinsurance.webp' %}">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: [
                'system-ui',
                '-apple-system',
                'BlinkMacSystemFont',
                '"Segoe UI"',
                'Roboto',
                '"Helvetica Neue"',
                'Arial',
                '"Noto Sans"',
                'sans-serif',
                '"Apple Color Emoji"',
                '"Segoe UI Emoji"',
                '"Segoe UI Symbol"',
                '"Noto Color Emoji"',
              ],
            },
          },
        },
      }
    </script>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}" />
  </head>
  <body class="min-h-screen bg-gray-50 text-gray-900 font-sans">
    {% if announcements %}
    <div class="relative z-50 text-white" style="background-color: #0f3c7a">
      <div class="mx-auto max-w-7xl px-4 py-2 text-center text-sm">
        {% for a in announcements %}
        <div class="announcement-slide {% if not forloop.first %}hidden{% endif %}">
            {% if a.link %}
            <a href="{{ a.link }}" class="hover:underline">{{ a.text }}</a>
            {% else %}
            <span>{{ a.text }}</span>
            {% endif %}
        </div>
        {% endfor %}
      </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const slides = document.querySelectorAll('.announcement-slide');
            if (slides.length > 1) {
                let currentIndex = 0;
                setInterval(() => {
                    slides[currentIndex].classList.add('hidden');
                    currentIndex = (currentIndex + 1) % slides.length;
                    slides[currentIndex].classList.remove('hidden');
                }, 4000);
            }
        });
    </script>
    {% elif site_config.announcement_text %}
    <div class="relative z-50 text-white" style="background-color: #0f3c7a">
      <div class="mx-auto max-w-7xl px-4 py-2 text-center text-sm">
        {{ site_config.announcement_text }}
      </div>
    </div>
    {% endif %}
    <div id="scrollBar" class="fixed top-0 left-0 right-0 z-[60] hidden">
      <div class="bg-[#0F3C7A] text-white">
        <div class="mx-auto max-w-7xl px-4 py-3 flex items-center gap-3">
          <span class="hidden sm:block font-semibold"
            >Find out if you're overpaying for auto insurance.</span
          >
          <form
            method="get"
            action="{% url 'zip_search' %}"
            class="ml-auto grid grid-cols-[1fr_auto] gap-0 w-[280px] sm:w-[360px]"
          >
            <input
              name="zip"
              maxlength="5"
              pattern="\d{5}"
              class="rounded-none px-3 py-2 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"
              placeholder="Enter ZIP Code"
            />
            <button class="btn btn-primary btn-sm rounded-l-none">
              Get Quote
            </button>
          </form>
        </div>
      </div>
    </div>
    <header class="sticky top-0 z-50 bg-white/95 backdrop-blur">
      <div class="max-w-7xl mx-auto px-4">
        <div class="flex items-center justify-between py-3">
          <a href="/" class="flex items-center gap-2">
            <img src="{% static 'images/logos/Autoinsurance.webp' %}" alt="{{ site_config.site_name|default:'AutoInsurance.com' }}" class="h-10 w-auto" />
          </a>
          <div class="hidden md:flex items-center gap-4">
            <form action="{% url 'search' %}" method="get" class="flex items-center rounded-none border px-3 py-2">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path
                  d="M10 18a8 8 0 100-16 8 8 0 000 16zm11 3l-6-6"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
              <input
                name="q"
                class="ml-2 w-56 outline-none text-sm"
                placeholder="Search"
                value="{{ request.GET.q|default:'' }}"
              />
            </form>
            <a
              href="#"
              class="text-sm text-gray-700 font-medium hover:text-blue-700 transition-colors"
              >Find Your Perfect Policy</a
            >
            <a href="#" class="btn btn-primary btn-sm rounded-none"
              >{{ site_config.phone_number|default:"866-843-5386" }}</a
            >
          </div>
          <button
            id="navToggle"
            class="md:hidden btn btn-secondary btn-sm px-3 border-gray-200 text-gray-700 rounded-none"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              class="text-current"
            >
              <path
                d="M4 6h16M4 12h16M4 18h16"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
              />
            </svg>
          </button>
        </div>
        <div class="hidden md:flex items-center gap-6 text-sm border-t py-2">
          <div class="relative">
            <a
              href="#"
              class="dd-trigger inline-flex items-center gap-1 hover:text-blue-700"
              data-dd="quotes"
              >Compare Quotes
              <svg
                width="14"
                height="14"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 011.08 1.04l-4.25 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z"
                />
              </svg>
            </a>
            <div
              class="dd-panel absolute left-0 mt-3 w-[720px] rounded-none border bg-white shadow-xl p-6 opacity-0 scale-95 pointer-events-none transition duration-200"
              data-panel="quotes"
            >
              <div class="grid grid-cols-3 gap-4">
                <div>
                  {% for c in blog_nav_quotes %}
                    {% if c.is_dropdown and c.name == "Start Here" %}
                      <div class="text-sm font-semibold text-gray-900">
                        {{ c.name }}
                      </div>
                      <div class="mt-2">
                        <div class="mt-1 flex flex-col gap-1">
                          {% for sc in c.children.all %}
                            {% if sc.is_active %}
                              {% with post=sc.first_post %}
                              <a href="{% if post %}{{ post.link }}{% else %}{% url 'blog_category' sc.slug %}{% endif %}" class="block rounded-none px-3 py-2 hover:bg-gray-50">{{ sc.name }}</a>
                              {% endwith %}
                            {% endif %}
                          {% endfor %}
                        </div>
                      </div>
                    {% endif %}
                  {% endfor %}
                </div>
                <div>
                  {% for c in blog_nav_quotes %}
                    {% if c.is_dropdown and c.name == "By State" %}
                      <div class="text-sm font-semibold text-gray-900">
                        {{ c.name }}
                      </div>
                      <div class="mt-2">
                        <div class="mt-1 flex flex-col gap-1">
                          {% for sc in c.children.all|slice:":12" %}
                            {% if sc.is_active %}
                              {% with post=sc.first_post %}
                              <a href="{% if post %}{{ post.link }}{% else %}{% url 'blog_category' sc.slug %}{% endif %}" class="block rounded-none px-3 py-2 hover:bg-gray-50">{{ sc.name }}</a>
                              {% endwith %}
                            {% endif %}
                          {% endfor %}
                        </div>
                      </div>
                    {% endif %}
                  {% endfor %}
                </div>
                <div></div>
              </div>
            </div>
          </div>
          <div class="relative">
            <a
              href="#"
              class="dd-trigger inline-flex items-center gap-1 hover:text-blue-700"
              data-dd="companies"
              >Companies
              <svg
                width="14"
                height="14"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 011.08 1.04l-4.25 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z"
                />
              </svg>
            </a>
            <div
              class="dd-panel absolute left-0 mt-3 w-[720px] rounded-none border bg-white shadow-xl p-6 opacity-0 scale-95 pointer-events-none transition duration-200"
              data-panel="companies"
            >
              <div class="grid grid-cols-3 gap-4">
                <div>
                  <h4 class="text-sm font-semibold text-gray-900">Top Picks</h4>
                  {% for company in top_pick_companies|slice:":12" %}
                  <a
                    href="{{ company.landing_url }}"
                    class="mt-2 block rounded px-3 py-2 hover:bg-gray-50"
                    >{{ company.name }}</a
                  >
                  {% empty %}{% endfor %}
                </div>
                <div>
                  {% for c in blog_nav_companies %}
                    {% if c.is_dropdown and c.name == "By Need" %}
                      <div class="mt-2">
                        <div class="text-sm font-semibold text-gray-900">
                          {{ c.name }}
                        </div>
                        <div class="mt-1 flex flex-col gap-1">
                          {% for sc in c.children.all %}
                            {% if sc.is_active %}
                              {% with post=sc.first_post %}
                              <a href="{% if post %}{{ post.link }}{% else %}{% url 'blog_category' sc.slug %}{% endif %}" class="block rounded px-3 py-2 hover:bg-gray-50">{{ sc.name }}</a>
                              {% endwith %}
                            {% endif %}
                          {% endfor %}
                        </div>
                      </div>
                    {% endif %}
                  {% endfor %}
                </div>
                <div>
                  {% for c in blog_nav_companies %}
                    {% if c.is_dropdown and c.name == "Insurance Providers" %}
                      <div class="mt-2">
                        <div class="text-sm font-semibold text-gray-900">
                          {{ c.name }}
                        </div>
                        <div class="mt-1 flex flex-col gap-1">
                          {% for sc in c.children.all %}
                            {% if sc.is_active %}
                              {% with post=sc.first_post %}
                              <a href="{% if post %}{{ post.link }}{% else %}{% url 'blog_category' sc.slug %}{% endif %}" class="block rounded px-3 py-2 hover:bg-gray-50">{{ sc.name }}</a>
                              {% endwith %}
                            {% endif %}
                          {% endfor %}
                        </div>
                      </div>
                    {% endif %}
                  {% endfor %}
                </div>
              </div>
            </div>
          </div>
          <div class="relative">
            <a
              href="#"
              class="dd-trigger inline-flex items-center gap-1 hover:text-blue-700"
              data-dd="cost"
              >Coverage & Cost
              <svg
                width="14"
                height="14"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 011.08 1.04l-4.25 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z"
                />
              </svg>
            </a>
            <div
              class="dd-panel absolute left-0 mt-3 w-[720px] rounded-none border bg-white shadow-xl p-6 opacity-0 scale-95 pointer-events-none transition duration-200"
              data-panel="cost"
            >
              <div class="grid grid-cols-3 gap-4">
                <div>
                  {% for c in blog_nav_cost %}
                    {% if c.is_dropdown and c.name == "Coverage Types" %}
                      <div class="text-sm font-semibold text-gray-900">
                        {{ c.name }}
                      </div>
                      <div class="mt-2">
                        <div class="mt-1 flex flex-col gap-1">
                          {% for sc in c.children.all %}
                            {% if sc.is_active %}
                              {% with post=sc.first_post %}
                              <a href="{% if post %}{{ post.link }}{% else %}{% url 'blog_category' sc.slug %}{% endif %}" class="block rounded px-3 py-2 hover:bg-gray-50">{{ sc.name }}</a>
                              {% endwith %}
                            {% endif %}
                          {% endfor %}
                        </div>
                      </div>
                    {% endif %}
                  {% endfor %}
                </div>
                <div>
                  {% for c in blog_nav_cost %}
                    {% if c.is_dropdown and c.name == "Costs & Pricing" %}
                      <div class="text-sm font-semibold text-gray-900">
                        {{ c.name }}
                      </div>
                      <div class="mt-2">
                        <div class="mt-1 flex flex-col gap-1">
                          {% for sc in c.children.all %}
                            {% if sc.is_active %}
                              {% with post=sc.first_post %}
                              <a href="{% if post %}{{ post.link }}{% else %}{% url 'blog_category' sc.slug %}{% endif %}" class="block rounded px-3 py-2 hover:bg-gray-50">{{ sc.name }}</a>
                              {% endwith %}
                            {% endif %}
                          {% endfor %}
                        </div>
                      </div>
                    {% endif %}
                  {% endfor %}
                </div>
                <div>
                  {% for c in blog_nav_cost %}
                    {% if c.is_dropdown and c.name == "Tools" %}
                      <div class="text-sm font-semibold text-gray-900">
                        {{ c.name }}
                      </div>
                      <div class="mt-2">
                        <div class="mt-1 flex flex-col gap-1">
                          {% for sc in c.children.all %}
                            {% if sc.is_active %}
                              {% with post=sc.first_post %}
                              <a href="{% if post %}{{ post.link }}{% else %}{% url 'blog_category' sc.slug %}{% endif %}" class="block rounded px-3 py-2 hover:bg-gray-50">{{ sc.name }}</a>
                              {% endwith %}
                            {% endif %}
                          {% endfor %}
                        </div>
                      </div>
                    {% endif %}
                  {% endfor %}
                </div>
              </div>
            </div>
          </div>
          <div class="relative">
            <a
              href="#"
              class="dd-trigger inline-flex items-center gap-1 hover:text-blue-700"
              data-dd="save"
              >Ways to Save
              <svg
                width="14"
                height="14"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 011.08 1.04l-4.25 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z"
                />
              </svg>
            </a>
            <div
              class="dd-panel absolute left-0 mt-3 w-[720px] rounded-none border bg-white shadow-xl p-6 opacity-0 scale-95 pointer-events-none transition duration-200"
              data-panel="save"
            >
              <div class="grid grid-cols-3 gap-4">
                <div>
                  {% for c in blog_nav_save %}
                    {% if c.is_dropdown and c.name == "Discounts" %}
                      <div class="text-sm font-semibold text-gray-900">
                        {{ c.name }}
                      </div>
                      <div class="mt-2">
                        <div class="mt-1 flex flex-col gap-1">
                          {% for sc in c.children.all %}
                            {% if sc.is_active %}
                              {% with post=sc.first_post %}
                              <a href="{% if post %}{{ post.link }}{% else %}{% url 'blog_category' sc.slug %}{% endif %}" class="block rounded px-3 py-2 hover:bg-gray-50">{{ sc.name }}</a>
                              {% endwith %}
                            {% endif %}
                          {% endfor %}
                        </div>
                      </div>
                    {% endif %}
                  {% endfor %}
                </div>
                <div>
                  {% for c in blog_nav_save %}
                    {% if c.is_dropdown and c.name == "Savings Guides" %}
                      <div class="text-sm font-semibold text-gray-900">
                        {{ c.name }}
                      </div>
                      <div class="mt-2">
                        <div class="mt-1 flex flex-col gap-1">
                          {% for sc in c.children.all %}
                            {% if sc.is_active %}
                              {% with post=sc.first_post %}
                              <a href="{% if post %}{{ post.link }}{% else %}{% url 'blog_category' sc.slug %}{% endif %}" class="block rounded px-3 py-2 hover:bg-gray-50">{{ sc.name }}</a>
                              {% endwith %}
                            {% endif %}
                          {% endfor %}
                        </div>
                      </div>
                    {% endif %}
                  {% endfor %}
                </div>
                <div>
                  {% for c in blog_nav_save %}
                    {% if c.is_dropdown and c.name == "Shop Smart" %}
                      <div class="text-sm font-semibold text-gray-900">
                        {{ c.name }}
                      </div>
                      <div class="mt-2">
                        <div class="mt-1 flex flex-col gap-1">
                          {% for sc in c.children.all %}
                            {% if sc.is_active %}
                              {% with post=sc.first_post %}
                              <a href="{% if post %}{{ post.link }}{% else %}{% url 'blog_category' sc.slug %}{% endif %}" class="block rounded px-3 py-2 hover:bg-gray-50">{{ sc.name }}</a>
                              {% endwith %}
                            {% endif %}
                          {% endfor %}
                        </div>
                      </div>
                    {% endif %}
                  {% endfor %}
                </div>
              </div>
            </div>
          </div>
          <div class="relative">
            <a
              href="#"
              class="dd-trigger inline-flex items-center gap-1 hover:text-blue-700"
              data-dd="resources"
              >Resources & FAQs
              <svg
                width="14"
                height="14"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 011.08 1.04l-4.25 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z"
                />
              </svg>
            </a>
            <div
              class="dd-panel absolute left-0 mt-3 w-[720px] rounded-2xl border bg-white shadow-xl p-6 opacity-0 scale-95 pointer-events-none transition duration-200"
              data-panel="resources"
            >
              <div class="grid grid-cols-3 gap-4">
                {% for c in blog_nav_resources %}
                <div>
                  <div class="text-sm font-semibold text-gray-900">
                    {{ c.name }}
                  </div>
                  <div class="mt-2">
                    <div class="mt-1 flex flex-col gap-1">
                      {% for sc in c.children.all|slice:":10" %}
                        {% if sc.is_active %}
                          {% with post=sc.first_post %}
                          <a href="{% if post %}{{ post.link }}{% else %}{% url 'blog_category' sc.slug %}{% endif %}" class="block rounded px-3 py-2 hover:bg-gray-50">{{ sc.name }}</a>
                          {% endwith %}
                        {% endif %}
                      {% endfor %}
                    </div>
                  </div>
                </div>
                {% endfor %}
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
    <main
      class="{% block main_class %}max-w-7xl mx-auto px-4 py-8{% endblock %}"
    >
      {% block content %}{% endblock %}
    </main>
    <footer class="bg-[#0F3C7A] text-white">
      <div class="mx-auto max-w-7xl px-6 py-10">
        <p class="text-center text-sm text-white/80">
          *Not all drivers will qualify for the advertised rates. Eligibility
          depends on multiple factors including driving history and policy
          details.*
        </p>
        <div class="mt-8 grid gap-8 sm:grid-cols-2 lg:grid-cols-4">
          <div>
            <div class="font-semibold">Blog</div>
            <div class="mt-3 grid gap-2 text-sm">
              {% for c in blog_footer_root_categories %}
              {% if c.name != "Auto Insurance by State" %}
              <a
                href="{% url 'blog_category' c.slug %}"
                class="hover:text-blue-100"
                >{{ c.name }}</a
              >
              {% endif %}
              {% endfor %}
              <a
                href="{% url 'blog_list' %}"
                class="font-semibold text-blue-200 hover:text-white inline-block"
                >View All Blogs &rarr;</a
              >
            </div>
          </div>
          <div>
            <div class="font-semibold">Legal</div>
            <div class="mt-3 grid gap-2 text-sm">
              {% for p in footer_legal_pages %}
              <a href="{{ p.link }}" class="hover:text-blue-100"
                >{{ p.title }}</a
              >
              {% empty %}
              <span class="text-white/60">No legal pages configured</span>
              {% endfor %}
            </div>
          </div>
          <div>
            <div class="font-semibold">Resources</div>
            <div class="mt-3 grid gap-2 text-sm">
              {% for post in footer_resource_posts %}
              <a
                href="{% url 'blog_post_detail' post.slug %}"
                class="hover:text-blue-100"
                >{{ post.title }}</a
              >
              {% empty %}
              <span class="text-white/60">No resource posts found</span>
              {% endfor %}
            </div>
          </div>
          <div>
            <div class="font-semibold">Companies</div>
            <div class="mt-3 grid gap-2 text-sm">
              {% for p in footer_company_pages %}
              <a href="{{ p.link }}" class="hover:text-blue-100"
                >{{ p.title }}</a
              >
              {% empty %}
              <span class="text-white/60">No company pages configured</span>
              {% endfor %}
              <a href="{% url 'companies_faqs' %}" class="hover:text-blue-100"
                >FAQs</a
              >
            </div>
          </div>
        </div>
        <div class="mt-10">
          <div class="font-semibold">Auto Insurance by State</div>
          <div class="mt-3 flex flex-wrap gap-x-3 gap-y-2 text-sm tracking-wide">
            {% for c in blog_footer_root_categories %}
              {% if c.name == "Auto Insurance by State" %}
                {% for sc in c.children.all %}
                  {% with post=sc.first_post %}
                    <a href="{% if post %}{{ post.link }}{% else %}{% url 'blog_category' sc.slug %}{% endif %}" class="hover:text-blue-200">{{ sc.name|state_code }}</a>
                  {% endwith %}
                {% endfor %}
              {% endif %}
            {% endfor %}
          </div>
        </div>
        <div class="mt-8 border-t border-white/20 pt-6 text-sm text-white/80">
          {% if site_config.email %}
          <div class="mb-4 flex items-center gap-3">
            <a
              href="mailto:{{ site_config.email }}"
              class="inline-flex items-center gap-2 hover:text-blue-100"
            >
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path
                  d="M4 6h16v12H4V6zm0 0l8 6 8-6"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              <span>{{ site_config.email }}</span>
            </a>
          </div>
          {% endif %}
          <div class="mb-4 flex items-center gap-3">
            {% if site_config.facebook_url %}
            <a
              href="{{ site_config.facebook_url }}"
              target="_blank"
              rel="noopener"
              class="inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/10 hover:bg-white/20"
            >
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path d="M14 9h3V6h-3a3 3 0 00-3 3v3H8v3h3v6h3v-6h3v-3h-3V9z" />
              </svg>
            </a>
            {% endif %} {% if site_config.twitter_url %}
            <a
              href="{{ site_config.twitter_url }}"
              target="_blank"
              rel="noopener"
              class="inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/10 hover:bg-white/20"
            >
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M22 5.92a8.09 8.09 0 01-2.33.64 4.06 4.06 0 001.78-2.24 8.13 8.13 0 01-2.57.98A4.05 4.05 0 0016 4a4.06 4.06 0 00-3.95 4.98A11.5 11.5 0 013 5.16a4.06 4.06 0 001.25 5.41 4 4 0 01-1.84-.5v.05a4.06 4.06 0 003.25 3.98 4.08 4.08 0 01-1.83.07 4.06 4.06 0 003.79 2.82A8.13 8.13 0 012 19.54a11.47 11.47 0 006.21 1.82c7.46 0 11.54-6.18 11.54-11.54 0-.18 0-.37-.01-.55A8.23 8.23 0 0022 5.92z"
                />
              </svg>
            </a>
            {% endif %} {% if site_config.instagram_url %}
            <a
              href="{{ site_config.instagram_url }}"
              target="_blank"
              rel="noopener"
              class="inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/10 hover:bg-white/20"
            >
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M7 2h10a5 5 0 015 5v10a5 5 0 01-5 5H7a5 5 0 01-5-5V7a5 5 0 015-5zm5 5a5 5 0 100 10 5 5 0 000-10zm6-1a1 1 0 100 2 1 1 0 000-2z"
                />
              </svg>
            </a>
            {% endif %} {% if site_config.linkedin_url %}
            <a
              href="{{ site_config.linkedin_url }}"
              target="_blank"
              rel="noopener"
              class="inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/10 hover:bg-white/20"
            >
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M4 4a2 2 0 012-2h0a2 2 0 012 2v0a2 2 0 01-2 2h0A2 2 0 014 4zM4 8h4v12H4zM10 8h4v2h.06a4.4 4.4 0 013.94-2.17C21.6 7.83 22 11 22 13.5V20h-4v-5.2c0-1.24-.02-2.83-1.73-2.83-1.73 0-2 1.35-2 2.74V20h-4z"
                />
              </svg>
            </a>
            {% endif %} {% if site_config.youtube_url %}
            <a
              href="{{ site_config.youtube_url }}"
              target="_blank"
              rel="noopener"
              class="inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/10 hover:bg-white/20"
            >
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M23 7.23a3 3 0 00-2.1-2.12C19.08 4.6 12 4.6 12 4.6s-7.08 0-8.9.51A3 3 0 001 7.23 31.82 31.82 0 001 12a31.82 31.82 0 001 4.77 3 3 0 002.1 2.12c1.82.51 8.9.51 8.9.51s7.08 0 8.9-.51A3 3 0 0023 16.77 31.82 31.82 0 0024 12a31.82 31.82 0 00-1-4.77zM10 15.5v-7l6 3.5-6 3.5z"
                />
              </svg>
            </a>
            {% endif %}
          </div>
          <div>
            {{ site_config.footer_text|default:"AutoInsurance.com Â© 2026. All Rights Reserved." }}
          </div>
          <div>
            {{ site_config.address|default:"12130 Millennium Drive, Ste 600 Los Angeles, CA 90094" }}
          </div>
          <div class="mt-3">
            {{ site_config.footer_disclaimer|default:"The Site is owned and operated by AutoInsurance.com. AutoInsurance.com is an insurance provider matching service and not an insurance broker or insurance company. Not all insurance companies are able to provide you with a quote. Make sure to compare carrier rates and fees as they can vary between insurance companies and will depend upon the state in which you reside. Additionally, any savings you receive will depend upon your driving history and other factors as determined by the insurance companies giving you quotes. None of the insurance companies with whom you may be matched through the site sponsor, endorse, or are in any way affiliated with AutoInsurance.com or this site." }}
          </div>
        </div>
      </div>
    </footer>
    <!-- Mobile Menu Overlay -->
    <div
      id="mobileMenu"
      class="fixed inset-0 z-[70] hidden"
      role="dialog"
      aria-modal="true"
    >
      <div
        id="mobileMenuBackdrop"
        class="absolute inset-0 bg-black/50 opacity-0 transition-opacity duration-300"
      ></div>
      <div
        id="mobileMenuDrawer"
        class="absolute right-0 top-0 h-full w-[85%] max-w-sm bg-white shadow-2xl transform translate-x-full transition-transform duration-300 ease-in-out flex flex-col"
      >
        <div class="flex items-center justify-between p-4 border-b">
          <a href="/" class="flex items-center gap-2">
            <img src="{% static 'images/logos/Autoinsurance.webp' %}" alt="{{ site_config.site_name|default:'AutoInsurance.com' }}" class="h-8 w-auto" />
          </a>
          <button
            id="closeMobileMenu"
            class="p-2 text-gray-500 hover:bg-gray-100 rounded-full"
          >
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
        <div class="flex-1 overflow-y-auto p-4 space-y-2">
          <div class="grid gap-2">
            <!-- Compare Quotes -->
            <button
              class="mdd-trigger flex w-full items-center justify-between rounded px-3 py-2 hover:bg-gray-100 text-gray-800"
              data-panel="m-quotes"
            >
              <span class="font-medium">Compare Quotes</span>
              <svg
                class="mdd-caret transition-transform duration-200"
                width="16"
                height="16"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 011.08 1.04l-4.25 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z"
                />
              </svg>
            </button>
            <div
              class="mdd-panel grid gap-1 px-3 pb-2 overflow-hidden max-h-0 transition-all duration-300 ease-out border-l-2 border-gray-100 ml-3"
              data-panel="m-quotes"
            >
              {% for c in blog_nav_quotes %}
                {% if c.is_dropdown %}
                  <button
                    class="mdd-nested-trigger flex w-full items-center justify-between rounded px-2 py-2 hover:bg-gray-50 text-sm font-medium text-gray-700"
                    data-target="mq-{{ c.id }}"
                  >
                    <span>{{ c.name }}</span>
                    <svg
                      class="mdd-nested-caret transition-transform duration-200 text-gray-400"
                      width="14"
                      height="14"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                    >
                      <path
                        d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 011.08 1.04l-4.25 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z"
                      />
                    </svg>
                  </button>
                  <div
                    id="mq-{{ c.id }}"
                    class="mdd-nested-panel hidden grid gap-1 pl-3 pb-2"
                  >
                    {% for sc in c.children.all %}
                      <a
                        href="{% url 'blog_category' sc.slug %}"
                        class="block rounded px-2 py-1.5 hover:bg-gray-50 text-sm text-gray-600"
                      >{{ sc.name }}</a>
                    {% endfor %}
                  </div>
                {% else %}
                  <a
                    href="{% url 'blog_category' c.slug %}"
                    class="block rounded px-2 py-2 hover:bg-gray-50 text-sm text-gray-600"
                  >{{ c.name }}</a>
                {% endif %}
              {% endfor %}
            </div>

            <!-- Companies -->
            <button
              class="mdd-trigger flex w-full items-center justify-between rounded px-3 py-2 hover:bg-gray-100 text-gray-800"
              data-panel="m-companies"
            >
              <span class="font-medium">Companies</span>
              <svg
                class="mdd-caret transition-transform duration-200"
                width="16"
                height="16"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 011.08 1.04l-4.25 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z"
                />
              </svg>
            </button>
            <div
              class="mdd-panel grid gap-1 px-3 pb-2 overflow-hidden max-h-0 transition-all duration-300 ease-out border-l-2 border-gray-100 ml-3"
              data-panel="m-companies"
            >
              <div
                class="text-xs font-bold text-gray-400 uppercase tracking-wider px-2 mt-2 mb-1"
              >
                Top Picks
              </div>
              {% for company in top_pick_companies|slice:":6" %}
              <a
                href="{{ company.landing_url }}"
                class="block rounded px-2 py-2 hover:bg-gray-50 text-sm text-gray-600"
                >{{ company.name }}</a
              >
              {% endfor %}
              
              {% for c in blog_nav_companies %}
                {% if c.is_dropdown %}
                  <button
                    class="mdd-nested-trigger flex w-full items-center justify-between rounded px-2 py-2 hover:bg-gray-50 text-sm font-medium text-gray-700 mt-1"
                    data-target="mc-{{ c.id }}"
                  >
                    <span>{{ c.name }}</span>
                    <svg
                      class="mdd-nested-caret transition-transform duration-200 text-gray-400"
                      width="14"
                      height="14"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                    >
                      <path
                        d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 011.08 1.04l-4.25 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z"
                      />
                    </svg>
                  </button>
                  <div
                    id="mc-{{ c.id }}"
                    class="mdd-nested-panel hidden grid gap-1 pl-3 pb-2"
                  >
                    {% for sc in c.children.all %}
                      <a
                        href="{% url 'blog_category' sc.slug %}"
                        class="block rounded px-2 py-1.5 hover:bg-gray-50 text-sm text-gray-600"
                      >{{ sc.name }}</a>
                    {% endfor %}
                  </div>
                {% else %}
                  <a
                    href="{% url 'blog_category' c.slug %}"
                    class="block rounded px-2 py-2 hover:bg-gray-50 text-sm text-gray-600"
                  >{{ c.name }}</a>
                {% endif %}
              {% endfor %}
            </div>

            <!-- Coverage & Cost -->
            <button
              class="mdd-trigger flex w-full items-center justify-between rounded px-3 py-2 hover:bg-gray-100 text-gray-800"
              data-panel="m-cost"
            >
              <span class="font-medium">Coverage & Cost</span>
              <svg
                class="mdd-caret transition-transform duration-200"
                width="16"
                height="16"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 011.08 1.04l-4.25 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z"
                />
              </svg>
            </button>
            <div
              class="mdd-panel grid gap-1 px-3 pb-2 overflow-hidden max-h-0 transition-all duration-300 ease-out border-l-2 border-gray-100 ml-3"
              data-panel="m-cost"
            >
              {% for c in blog_nav_cost %}
                {% if c.is_dropdown %}
                  <button
                    class="mdd-nested-trigger flex w-full items-center justify-between rounded px-2 py-2 hover:bg-gray-50 text-sm font-medium text-gray-700"
                    data-target="mcost-{{ c.id }}"
                  >
                    <span>{{ c.name }}</span>
                    <svg
                      class="mdd-nested-caret transition-transform duration-200 text-gray-400"
                      width="14"
                      height="14"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                    >
                      <path
                        d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 011.08 1.04l-4.25 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z"
                      />
                    </svg>
                  </button>
                  <div
                    id="mcost-{{ c.id }}"
                    class="mdd-nested-panel hidden grid gap-1 pl-3 pb-2"
                  >
                    {% for sc in c.children.all %}
                      <a
                        href="{% url 'blog_category' sc.slug %}"
                        class="block rounded px-2 py-1.5 hover:bg-gray-50 text-sm text-gray-600"
                      >{{ sc.name }}</a>
                    {% endfor %}
                  </div>
                {% else %}
                  <a
                    href="{% url 'blog_category' c.slug %}"
                    class="block rounded px-2 py-2 hover:bg-gray-50 text-sm text-gray-600"
                  >{{ c.name }}</a>
                {% endif %}
              {% endfor %}
            </div>

            <!-- Ways to Save -->
            <button
              class="mdd-trigger flex w-full items-center justify-between rounded px-3 py-2 hover:bg-gray-100 text-gray-800"
              data-panel="m-save"
            >
              <span class="font-medium">Ways to Save</span>
              <svg
                class="mdd-caret transition-transform duration-200"
                width="16"
                height="16"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 011.08 1.04l-4.25 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z"
                />
              </svg>
            </button>
            <div
              class="mdd-panel grid gap-1 px-3 pb-2 overflow-hidden max-h-0 transition-all duration-300 ease-out border-l-2 border-gray-100 ml-3"
              data-panel="m-save"
            >
              {% for c in blog_nav_save %}
                {% if c.is_dropdown %}
                  <button
                    class="mdd-nested-trigger flex w-full items-center justify-between rounded px-2 py-2 hover:bg-gray-50 text-sm font-medium text-gray-700"
                    data-target="msave-{{ c.id }}"
                  >
                    <span>{{ c.name }}</span>
                    <svg
                      class="mdd-nested-caret transition-transform duration-200 text-gray-400"
                      width="14"
                      height="14"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                    >
                      <path
                        d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 011.08 1.04l-4.25 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z"
                      />
                    </svg>
                  </button>
                  <div
                    id="msave-{{ c.id }}"
                    class="mdd-nested-panel hidden grid gap-1 pl-3 pb-2"
                  >
                    {% for sc in c.children.all %}
                      <a
                        href="{% url 'blog_category' sc.slug %}"
                        class="block rounded px-2 py-1.5 hover:bg-gray-50 text-sm text-gray-600"
                      >{{ sc.name }}</a>
                    {% endfor %}
                  </div>
                {% else %}
                  <a
                    href="{% url 'blog_category' c.slug %}"
                    class="block rounded px-2 py-2 hover:bg-gray-50 text-sm text-gray-600"
                  >{{ c.name }}</a>
                {% endif %}
              {% endfor %}
            </div>

            <!-- Resources -->
            <button
              class="mdd-trigger flex w-full items-center justify-between rounded px-3 py-2 hover:bg-gray-100 text-gray-800"
              data-panel="m-resources"
            >
              <span class="font-medium">Resources & FAQs</span>
              <svg
                class="mdd-caret transition-transform duration-200"
                width="16"
                height="16"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 011.08 1.04l-4.25 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z"
                />
              </svg>
            </button>
            <div
              class="mdd-panel grid gap-1 px-3 pb-2 overflow-hidden max-h-0 transition-all duration-300 ease-out border-l-2 border-gray-100 ml-3"
              data-panel="m-resources"
            >
              <div
                class="text-xs font-bold text-gray-400 uppercase tracking-wider px-2 mt-2 mb-1"
              >
                FAQs
              </div>
              {% for c in faq_popular_root_categories|slice:":5" %}
              <a
                href="{% url 'faq_category' c.slug %}"
                class="block rounded px-2 py-2 hover:bg-gray-50 text-sm text-gray-600"
                >{{ c.name }}</a
              >
              {% endfor %}

              <div
                class="text-xs font-bold text-gray-400 uppercase tracking-wider px-2 mt-4 mb-1"
              >
                Blog
              </div>
              {% for c in blog_nav_resources %}
                {% if c.is_dropdown %}
                  <button
                    class="mdd-nested-trigger flex w-full items-center justify-between rounded px-2 py-2 hover:bg-gray-50 text-sm font-medium text-gray-700"
                    data-target="mres-{{ c.id }}"
                  >
                    <span>{{ c.name }}</span>
                    <svg
                      class="mdd-nested-caret transition-transform duration-200 text-gray-400"
                      width="14"
                      height="14"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                    >
                      <path
                        d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 011.08 1.04l-4.25 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z"
                      />
                    </svg>
                  </button>
                  <div
                    id="mres-{{ c.id }}"
                    class="mdd-nested-panel hidden grid gap-1 pl-3 pb-2"
                  >
                    {% for sc in c.children.all %}
                      <a
                        href="{% url 'blog_category' sc.slug %}"
                        class="block rounded px-2 py-1.5 hover:bg-gray-50 text-sm text-gray-600"
                      >{{ sc.name }}</a>
                    {% endfor %}
                  </div>
                {% else %}
                  <a
                    href="{% url 'blog_category' c.slug %}"
                    class="block rounded px-2 py-2 hover:bg-gray-50 text-sm text-gray-600"
                  >{{ c.name }}</a>
                {% endif %}
              {% endfor %}
            </div>
            <div class="flex items-center rounded-md border px-3 py-2 mt-2">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path
                  d="M10 18a8 8 0 100-16 8 8 0 000 16zm11 3l-6-6"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
              <input
                class="ml-2 w-full outline-none text-sm"
                placeholder="Search"
              />
            </div>
            <a href="#" class="mt-2 btn btn-secondary btn-block w-full"
              >{{ site_config.phone_number|default:"866-843-5386" }}</a
            >
          </div>
        </div>
      </div>
    </div>

    <!-- Go to Top Button -->
    <button
      id="scrollTopBtn"
      class="fixed bottom-6 right-6 z-40 hidden rounded-full bg-blue-700 p-3 text-white shadow-lg transition-all duration-300 hover:bg-blue-800 hover:-translate-y-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
      aria-label="Back to top"
    >
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M18 15l-6-6-6 6" />
      </svg>
    </button>

    <script>
      // Mobile Menu Logic
      const navToggle = document.getElementById("navToggle");
      const mobileMenu = document.getElementById("mobileMenu");
      const mobileMenuBackdrop = document.getElementById("mobileMenuBackdrop");
      const mobileMenuDrawer = document.getElementById("mobileMenuDrawer");
      const closeMobileMenu = document.getElementById("closeMobileMenu");

      if (navToggle && mobileMenu) {
        const openMobile = () => {
          mobileMenu.classList.remove("hidden");
          // Trigger reflow
          void mobileMenu.offsetWidth;
          mobileMenuBackdrop.classList.remove("opacity-0");
          mobileMenuDrawer.classList.remove("translate-x-full");
          document.body.style.overflow = "hidden"; // Prevent background scrolling
        };
        const closeMobile = () => {
          mobileMenuBackdrop.classList.add("opacity-0");
          mobileMenuDrawer.classList.add("translate-x-full");
          document.body.style.overflow = "";
          setTimeout(() => {
            mobileMenu.classList.add("hidden");
          }, 300);
        };

        navToggle.addEventListener("click", openMobile);
        closeMobileMenu.addEventListener("click", closeMobile);
        mobileMenuBackdrop.addEventListener("click", closeMobile);
      }

      // Scroll to Top Logic
      const scrollTopBtn = document.getElementById("scrollTopBtn");
      if (scrollTopBtn) {
        const toggleScrollBtn = () => {
          if (window.scrollY > 500) {
            scrollTopBtn.classList.remove("hidden");
            scrollTopBtn.classList.add("flex");
          } else {
            scrollTopBtn.classList.add("hidden");
            scrollTopBtn.classList.remove("flex");
          }
        };
        window.addEventListener("scroll", toggleScrollBtn);
        scrollTopBtn.addEventListener("click", () => {
          window.scrollTo({ top: 0, behavior: "smooth" });
        });
      }

      // Dropdown Logic (Desktop)
      const triggers = document.querySelectorAll(".dd-trigger");
      const panels = document.querySelectorAll(".dd-panel");
      const openPanel = (p) => {
        p.classList.remove("opacity-0", "scale-95", "pointer-events-none");
        p.classList.add("opacity-100", "scale-100");
      };
      const closePanel = (p) => {
        p.classList.add("opacity-0", "scale-95", "pointer-events-none");
        p.classList.remove("opacity-100", "scale-100");
      };
      const closeAll = () => panels.forEach(closePanel);
      const closeTimers = new Map();
      const scheduleClose = (key, tr, panel, delay = 200) => {
        clearTimeout(closeTimers.get(key));
        const id = setTimeout(() => {
          if (!tr.matches(":hover") && !panel.matches(":hover")) {
            closePanel(panel);
          }
        }, delay);
        closeTimers.set(key, id);
      };
      triggers.forEach((tr) => {
        const key = tr.dataset.dd;
        const panel = document.querySelector(`.dd-panel[data-panel="${key}"]`);
        if (!panel) return;
        tr.addEventListener("mouseenter", () => {
          clearTimeout(closeTimers.get(key));
          openPanel(panel);
        });
        tr.addEventListener("mouseleave", () => scheduleClose(key, tr, panel));
        panel.addEventListener("mouseenter", () => {
          clearTimeout(closeTimers.get(key));
          openPanel(panel);
        });
        panel.addEventListener("mouseleave", () =>
          scheduleClose(key, tr, panel)
        );
        tr.addEventListener("click", (e) => {
          e.preventDefault();
          if (panel.classList.contains("pointer-events-none")) openPanel(panel);
          else closePanel(panel);
        });
      });
      document.addEventListener("click", (e) => {
        const inDropdown =
          e.target.closest(".dd-trigger") || e.target.closest(".dd-panel");
        if (!inDropdown) closeAll();
      });

      // Mobile Accordion Logic
      const handleAccordion = (btn, panel, caret, isNested) => {
        btn.addEventListener("click", (e) => {
          e.preventDefault();
          e.stopPropagation();

          const isOpen =
            panel.style.maxHeight && parseInt(panel.style.maxHeight) > 0;

          if (isOpen) {
            panel.style.maxHeight = "0px";
            caret && (caret.style.transform = "rotate(0deg)");
            if (isNested) {
              setTimeout(() => {
                if (panel.style.maxHeight === "0px")
                  panel.classList.add("hidden");
              }, 300);
            }
          } else {
            if (isNested) panel.classList.remove("hidden");
            panel.style.maxHeight = panel.scrollHeight + "px";
            caret && (caret.style.transform = "rotate(180deg)");

            // Expand parent if needed
            if (isNested) {
              const parent = btn.closest(".mdd-panel");
              if (parent) {
                const currentParentMax = parseInt(parent.style.maxHeight) || 0;
                parent.style.maxHeight =
                  currentParentMax + panel.scrollHeight + "px";
              }
            }
          }
        });
      };

      document.querySelectorAll(".mdd-trigger").forEach((btn) => {
        const key = btn.dataset.panel;
        const panel = document.querySelector(`.mdd-panel[data-panel="${key}"]`);
        const caret = btn.querySelector(".mdd-caret");
        if (panel) handleAccordion(btn, panel, caret, false);
      });

      document.querySelectorAll(".mdd-nested-trigger").forEach((btn) => {
        const key = btn.dataset.target;
        const panel = document.getElementById(key);
        const caret = btn.querySelector(".mdd-nested-caret");
        if (panel) handleAccordion(btn, panel, caret, true);
      });

      // Sticky ScrollBar Logic
      const sb = document.getElementById("scrollBar");
      let lastY = 0;
      const handleScroll = () => {
        const y = window.scrollY || document.documentElement.scrollTop || 0;
        if (y > 180) {
          sb && sb.classList.remove("hidden");
        } else {
          sb && sb.classList.add("hidden");
        }
        lastY = y;
      };
      handleScroll();
      window.addEventListener("scroll", handleScroll, { passive: true });
    </script>
  </body>
</html>
